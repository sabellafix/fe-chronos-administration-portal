<div class="space-85">
  
</div>
<div class="dashboard-container bg-transparent">
  <!-- Encabezado del Dashboard con KPIs -->
  <app-dashboard-header
    [selectedSalon]="selectedSalon"
    [dateFilter]="dateFilter"
    (salonChange)="onSalonChange($event)"
    (dateChange)="onDateChange($event)">
  </app-dashboard-header>

  <!-- Contenido Principal -->
  <main class="dashboard-main bg-transparent">
    <div class="container-fluid px-4 py-4">
      <!-- Sección de búsqueda y acciones -->
      <div class="d-flex align-items-center justify-content-between mb-4">
        <div>
          <h2 class="h4 mb-1 fw-semibold">Vista Operacional</h2>
          <p class="text-muted small mb-0">
            Gestión en tiempo real
          </p>
        </div>

        <div>
          <div class="mb-3">
            <div class="btn-group" role="group" aria-label="Vista selector">
              <button 
                type="button" 
                class="btn"
                [class.btn-primary]="currentView === 'calendar'"
                [class.btn-outline-primary]="currentView !== 'calendar'"
                (click)="switchView('calendar')">
                <i class="bi bi-calendar-week me-2"></i>
                Calendario Semanal
              </button>
              <button 
                type="button" 
                class="btn"
                [class.btn-primary]="currentView === 'chart'"
                [class.btn-outline-primary]="currentView !== 'chart'"
                (click)="switchView('chart')">
                <i class="bi bi-bar-chart-fill me-2"></i>
                Gráfico de Ingresos
              </button>
            </div>
          </div>

        </div>
        
        <div class="d-flex align-items-center gap-2">
          <div class="input-group" style="width: 280px;">
            <span class="input-group-text bg-white">
              <i class="bi bi-search"></i>
            </span>
            <input type="text" class="form-control" placeholder="Buscar cliente o cita...">
          </div>
          <button class="btn btn-outline-secondary">
            <i class="bi bi-funnel me-2"></i>
            Filtros
          </button>
          <button class="btn btn-primary">
            <i class="bi bi-plus-lg me-2"></i>
            Nueva Cita
          </button>
        </div>
      </div>

      <!-- Grid Principal -->
      <div class="row g-4">
        <!-- Columna Principal (Calendario y Estilistas) -->
        <div class="col-12 col-lg-8">
          <!-- Toggle Buttons -->
        
          <!-- Vista condicional -->
          <div class="mb-4">
            <app-weekly-calendar 
              *ngIf="currentView === 'calendar'"
              [dateFilter]="dateFilter">
            </app-weekly-calendar>

            <app-bar-revenue-chart 
              *ngIf="currentView === 'chart'">
            </app-bar-revenue-chart>
          </div>

          <!-- Gráfico de Torta - Servicios Más Solicitados -->
          <div class="mb-4">
            <app-donnut-pop-services-chart></app-donnut-pop-services-chart>
          </div>
          
          <div class="mb-4">
            <app-stylists-status></app-stylists-status>
          </div>
        </div>

        <!-- Columna Lateral (Citas de Hoy) -->
        <div class="col-12 col-lg-4">
          <app-today-appointments></app-today-appointments>
        </div>
      </div>
    </div>
  </main>
</div>
